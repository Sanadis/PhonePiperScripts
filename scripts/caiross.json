{
  "imports": [
    "_common-no_op"
  ],
  "vars": [{
    "name": "runs",
    "display": "Farm Runs",
    "value": "0",
    "type": "INT",
    "modify": "VISIBLE",
    "order": 5,
    "tierId": "stats",
    "description": "How many TMR runs have been accomplished"
  }, {
    "name": "caiross-dungeon",
    "display": "Level",
    "value": "1",
    "type": "INT",
    "modify": "EDITABLE",
    "order": 1,
    "tierId": "caiross",
    "values": [{
      "name": "Giants", "value": "0"}, {
      "name": "Dragons", "value": "1"}, {
      "name": "Necropolis", "value": "2"}
    ],
    "description": "Which level of Caiross dungeon to farm"
  }, {
    "name": "caiross-level",
    "display": "Level",
    "value": "1",
    "type": "INT",
    "modify": "EDITABLE",
    "order": 2,
    "tierId": "caiross",
    "values": [{
      "name": "B7", "value": "0"}, {
      "name": "B8", "value": "1"}, {
      "name": "B9", "value": "2"}, {
      "name": "B10", "value": "3"}
    ],
    "description": "Which level of Caiross dungeon to farm"
  }],
  "varTiers": [
    {"title":"Stats", "id":"stats"},
    {"title":"Caiross", "id":"caiross"}
  ],

  "states": {

    "farm": {
      "name": "Farm (Override)",
      "includes": [
        "_common-no_op"
      ],
      "variables": {
        "test": {"value": "1", "type": "INT"}
      },
      "statements": [{
        "condition": {
          "is": "BOOLEAN", "value": "true"
        },
        "actions": [{
          "type": "TAP", "value": "menu_home-battle"}, {
          "type": "WAIT", "value": "3000"}, {
          "type": "MOVE", "value": "caiross"}
        ]
      }]
    },

    "caiross": {
      "name": "Caiross Dungeon",
      "includes": [
        "_common-no_op"
      ],
      "variables": {},
      "statements": [{
        "condition": {
          "is": "SCREEN", "value": "menu_battle"
        },
        "actions": [{
          "type": "INFO", "value": "Entering Caiross Dungeon"}, {
          "type": "TAP", "value": "menu_battle-caiross"}, {
          "type": "RETURN"}
        ]
      }, {
        "condition": {
          "is": "SCREEN", "value": "menu_caiross"
        },
        "actions": [{
          "type": "INFO", "value": "Caiross found"}, {
          "type": "MOVE", "value": "caiross-select"}
        ]
      }]
    },

    "caiross-select": {
      "name": "Caiross Selection",
      "includes": [
        "team-select",
        "_common-no_op"
      ],
      "variables": {},
      "statements": [{
        "condition": {
          "is": "SCREEN", "value": "menu_caiross"
        },
        "actions": [{
          "type": "INFO", "value": "Selecting dungeon"}, {
          "type": "WAIT", "value": "500"}, {
          "type": "SWIPE_UP", "value": "menu_caiross_level-select"}, {
          "type": "WAIT", "value": "1500"}, {
          "type": "TAP", "value": "menu_caiross_level-index-${caiross-level}"}, {
          "type": "WAIT", "value": "1500"}, {
          "type": "REPEAT"}
        ]
      }]
    },

    "team-select": {
      "name": "Team Selection",
      "includes": [
        "_common-no_op"
      ],
      "variables": {},
      "statements": [{
        "condition": {
          "is": "SCREEN", "value": "menu_unit-select"
        },
        "actions": [{
          "type": "CALL", "value": "@keepAlive" }, {
          "type": "ADD", "var": "runs", "value": "1"}, {
          "type": "INFO", "value": "Starting run ${runs}"}, {
          "type": "TAP", "value": "menu_unit-select_start"}, {
          "type": "WAIT", "value": "5000"}, {
          "type": "REPEAT"}
        ]
      }]
    }
  }
}